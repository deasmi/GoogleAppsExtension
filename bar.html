<!DOCTYPE html>
<html>
<head>
	<title>Google Apps Bar</title>
<script>


var applicationNames=["Mail","Calender","Docs"]
var applicationURLs=["http://mail.google.com/a/{domain}/","http://www.google.com/calendar/hosted/{domain}","http://docs.google.com/a/{domain}"]

function renderBar()
{
	var domainList = safari.extension.settings.getItem("domainList").split(',');
	
	// remove, if exists
    var listDiv = document.getElementById('googleAppsList');
	var newList = "";
	for (var i=0; i<domainList.length; i++){
		if (i!=0)
			newList = newList + " - "
		newList = newList + domainList[i] ;
	}
	listDiv.innerHTML=newList;
}


 




</script>
</head>
<body id="bar" onload="renderBar();">
<div id="googleAppsList"></div>
<p>Ha ha ha</p>
</body>
</html>